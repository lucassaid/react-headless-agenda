import { Canvas, Meta, Source } from '@storybook/blocks';
import * as DayStories from './Day.stories';

<Meta of={DayStories} />

# Day

Use `<Day>` to render the markup for each event of the day

<Canvas of={DayStories.BasicDay} />

<Source
  code={`
<Day date={new Date()}>
  {({ containerRef, events }) => (
    <div
      ref={containerRef}
      className="relative h-80"
    >
      day container
      {events.map(({ event, top, bottom }) => (
        <div
          key={event.title}
          className="absolute inset-x-3 p-4 rounded-lg bg-lime-500 text-white"
          style={{ top, bottom }}
        >
          {event.title}
          <br />
          <small>
            {format(event.start, 'HH:mm')}
            &nbsp;-&nbsp;
            {format(event.end, 'HH:mm')}
          </small>
        </div>
      ))}
    </div>
  )}
</Day>
  `}
  language="tsx"
/>

The only style required for the container is "position: relative".
As you can see you are provided with `top` and `bottom`. Use them like the example, to position your event.

Note you also have access to `event` which is the original event object you passed to `<Agenda>`.

<br />
<br />

### Composing `Day` and `Columns`

You'll probably want to render `<Day>` inside a `<Columns>` component, so you can pass `date` from each column:

<Canvas of={DayStories.DayInsideColumns} />

<Source
  code={`
<div className="flex gap-x-4">
  <Columns>
    {({ date, key }) => (
      <Day date={date} key={key}>
        {({ containerRef, events }) => (
          <div
            ref={containerRef}
            className="relative flex-1"
          >
            day container
            {events.map(({ event, top, bottom }) => (
              <div
                key={event.title}
                className="absolute"
                style={{ top, bottom }}
              >
                {event.title}
              </div>
            ))}
          </div>
        )}
      </Day>
    )}
  </Columns>
</div>
  `}
  language="tsx"
/>